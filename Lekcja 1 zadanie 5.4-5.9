=======================================================
4. Dodaj pola do tabeli postac:
a. funkcja - ciąg znaków. 
=======================================================


mysql> ALTER TABLE postacie ADD COLUMN funkcja VARCHAR(40) AFTER rodzaj;
Query OK, 0 rows affected (0.19 sec)
Records: 0  Duplicates: 0  Warnings: 0

mysql> select * from postacie;
+------------+----------+---------+---------+------------+------+
| id_postaci | nazwa    | rodzaj  | funkcja | data_ur    | wiek |
+------------+----------+---------+---------+------------+------+
|          1 | Bjorn    | wiking  | NULL    | 1788-05-03 |   69 |
|          2 | Drozd    | ptak    | NULL    | 1808-11-02 |   10 |
|          3 | Tesciowa | kobieta | NULL    | 1754-07-12 |   88 |
|          4 | Prozd    | wiking  | NULL    | 1785-12-17 |   67 |
|          5 | Gast     | wiking  | NULL    | 1786-10-02 |   68 |
|          6 | Hal      | wiking  | NULL    | 1790-04-25 |   71 |
|          7 | Kurn     | wiking  | NULL    | 1784-06-12 |   66 |
|          8 | Mat      | wiking  | NULL    | 1783-02-03 |   65 |
+------------+----------+---------+---------+------------+------+


=======================================================
5. Zmień funkcję u Bjorna na kapitan.
=======================================================

mysql> UPDATE postacie SET funkcja = 'kapitan' WHERE id_postaci = 1;
Query OK, 1 row affected (0.00 sec)
Rows matched: 1  Changed: 1  Warnings: 0

mysql> select * from postacie;
+------------+----------+---------+---------+------------+------+
| id_postaci | nazwa    | rodzaj  | funkcja | data_ur    | wiek |
+------------+----------+---------+---------+------------+------+
|          1 | Bjorn    | wiking  | kapitan | 1788-05-03 |   69 |
|          2 | Drozd    | ptak    | NULL    | 1808-11-02 |   10 |
|          3 | Tesciowa | kobieta | NULL    | 1754-07-12 |   88 |
|          4 | Prozd    | wiking  | NULL    | 1785-12-17 |   67 |
|          5 | Gast     | wiking  | NULL    | 1786-10-02 |   68 |
|          6 | Hal      | wiking  | NULL    | 1790-04-25 |   71 |
|          7 | Kurn     | wiking  | NULL    | 1784-06-12 |   66 |
|          8 | Mat      | wiking  | NULL    | 1783-02-03 |   65 |
+------------+----------+---------+---------+------------+------+

=======================================================
6. Dodaj klucz obcy w tabeli postać odwołujący się do statku.
=======================================================

mysql> ALTER TABLE postacie ADD COLUMN statek_postaci VARCHAR(40) AFTER funkcja;


mysql> DESC postacie;
+----------------+---------------------------------+------+-----+---------+----------------+
| Field          | Type                            | Null | Key | Default | Extra          |
+----------------+---------------------------------+------+-----+---------+----------------+
| id_postaci     | int                             | NO   | PRI | NULL    | auto_increment |
| nazwa          | varchar(40)                     | YES  |     | NULL    |                |
| rodzaj         | enum('wiking','ptak','kobieta') | YES  |     | NULL    |                |
| funkcja        | varchar(40)                     | YES  |     | NULL    |                |
| statek_postaci | varchar(40)                     | YES  |     | NULL    |                |
| data_ur        | date                            | YES  |     | NULL    |                |
| wiek           | int unsigned                    | YES  |     | NULL    |                |
+----------------+---------------------------------+------+-----+---------+----------------+


mysql> desc statek;
+----------------+-----------------------------------------------------+------+-----+---------+-------+
| Field          | Type                                                | Null | Key | Default | Extra |
+----------------+-----------------------------------------------------+------+-----+---------+-------+
| nazwa_statku   | varchar(40)                                         | NO   | PRI | NULL    |       |
| rodzaj_statku  | enum('wojenne','pasazerskie','sportowe','handlowe') | YES  |     | NULL    |       |
| data_wodowania | date                                                | YES  |     | NULL    |       |
| max_ladownosc  | int unsigned                                        | YES  |     | NULL    |       |
+----------------+-----------------------------------------------------+------+-----+---------+-------+

mysql> ALTER TABLE postacie ADD CONSTRAINT FOREIGN KEY(statek_postaci) REFERENCES statek(nazwa_statku);

mysql> desc postacie;
+----------------+---------------------------------+------+-----+---------+----------------+
| Field          | Type                            | Null | Key | Default | Extra          |
+----------------+---------------------------------+------+-----+---------+----------------+
| id_postaci     | int                             | NO   | PRI | NULL    | auto_increment |
| nazwa          | varchar(40)                     | YES  |     | NULL    |                |
| rodzaj         | enum('wiking','ptak','kobieta') | YES  |     | NULL    |                |
| funkcja        | varchar(40)                     | YES  |     | NULL    |                |
| statek_postaci | varchar(40)                     | YES  | MUL | NULL    |                |
| data_ur        | date                            | YES  |     | NULL    |                |
| wiek           | int unsigned                    | YES  |     | NULL    |                |
+----------------+---------------------------------+------+-----+---------+----------------+


mysql> select * from postacie;
+------------+----------+---------+---------+----------------+------------+------+
| id_postaci | nazwa    | rodzaj  | funkcja | statek_postaci | data_ur    | wiek |
+------------+----------+---------+---------+----------------+------------+------+
|          1 | Bjorn    | wiking  | kapitan | NULL           | 1788-05-03 |   69 |
|          2 | Drozd    | ptak    | NULL    | NULL           | 1808-11-02 |   10 |
|          3 | Tesciowa | kobieta | NULL    | NULL           | 1754-07-12 |   88 |
|          4 | Prozd    | wiking  | NULL    | NULL           | 1785-12-17 |   67 |
|          5 | Gast     | wiking  | NULL    | NULL           | 1786-10-02 |   68 |
|          6 | Hal      | wiking  | NULL    | NULL           | 1790-04-25 |   71 |
|          7 | Kurn     | wiking  | NULL    | NULL           | 1784-06-12 |   66 |
|          8 | Mat      | wiking  | NULL    | NULL           | 1783-02-03 |   65 |
+------------+----------+---------+---------+----------------+------------+------+

=======================================================
7. Powsadzaj wikingów oraz drozda na statki. 
=======================================================

mysql> select * from statek;
+--------------+---------------+----------------+---------------+
| nazwa_statku | rodzaj_statku | data_wodowania | max_ladownosc |
+--------------+---------------+----------------+---------------+
| 1            | handlowe      | 1769-04-12     |          1600 |
| 2            | sportowe      | 1789-03-13     |          1000 |
+--------------+---------------+----------------+---------------+



mysql> UPDATE postacie SET statek_postaci = 'handlowe' WHERE id_postaci = 1;

mysql> UPDATE postacie SET statek_postaci = 'handlowe' WHERE id_postaci = 2;

mysql> UPDATE postacie SET statek_postaci = 'handlowe' WHERE id_postaci = 4;

mysql> UPDATE postacie SET statek_postaci = 'handlowe' WHERE id_postaci = 5;

mysql> UPDATE postacie SET statek_postaci = 'handlowe' WHERE id_postaci = 6;

mysql> UPDATE postacie SET statek_postaci = 'handlowe' WHERE id_postaci = 7;

mysql> UPDATE postacie SET statek_postaci = 'handlowe' WHERE id_postaci = 8;

mysql> select * from postacie;
+------------+----------+---------+---------+----------------+------------+------+
| id_postaci | nazwa    | rodzaj  | funkcja | statek_postaci | data_ur    | wiek |
+------------+----------+---------+---------+----------------+------------+------+
|          1 | Bjorn    | wiking  | kapitan | handlowe       | 1788-05-03 |   69 |
|          2 | Drozd    | ptak    | NULL    | handlowe       | 1808-11-02 |   10 |
|          3 | Tesciowa | kobieta | NULL    | NULL           | 1754-07-12 |   88 |
|          4 | Prozd    | wiking  | NULL    | handlowe       | 1785-12-17 |   67 |
|          5 | Gast     | wiking  | NULL    | handlowe       | 1786-10-02 |   68 |
|          6 | Hal      | wiking  | NULL    | handlowe       | 1790-04-25 |   71 |
|          7 | Kurn     | wiking  | NULL    | handlowe       | 1784-06-12 |   66 |
|          8 | Mat      | wiking  | NULL    | handlowe       | 1783-02-03 |   65 |
+------------+----------+---------+---------+----------------+------------+------+

????
=======================================================
8. Usuń izbę spiżarnia z tabeli izba.
9. Usuń tabelę izba.
=======================================================

mysql> select * from izba;
+---------------+------------+--------+------------+------------+
| adres_budynku | nazwa_izby | metraz | kolor_izby | wlasciciel |
+---------------+------------+--------+------------+------------+
| adres         | spizarnia  |   NULL | NULL       |       NULL |
+---------------+------------+--------+------------+------------+
1 row in set (0.00 sec)

mysql> DROP TABLE izba;
Query OK, 0 rows affected (0.02 sec)
