mysql> ALTER TABLE postacie MODIFY COLUMN id_postaci INT AUTO_INCREMENT;
Query OK, 0 rows affected (0.02 sec)
Records: 0  Duplicates: 0  Warnings: 0

mysql> ALTER TABLE postacie DROP PRIMARY KEY, CHANGE id_postaci id_postaci INT;
Query OK, 6 rows affected (0.08 sec)
Records: 6  Duplicates: 0  Warnings: 0

mysql> alter table postacie add pesel CHAR(11) NOT NULL FIRST;
Query OK, 0 rows affected (0.04 sec)
Records: 0  Duplicates: 0  Warnings: 0

mysql> select * from postacie;
+-------+------------+----------+---------+---------+----------------+------------+------+
| pesel | id_postaci | nazwa    | rodzaj  | funkcja | statek_postaci | data_ur    | wiek |
+-------+------------+----------+---------+---------+----------------+------------+------+
|       |          1 | Bjorn    | wiking  | kapitan | handlowe       | 1788-05-03 |   69 |
|       |          2 | Drozd    | ptak    | NULL    | handlowe       | 1808-11-02 |   10 |
|       |          3 | Tesciowa | kobieta | NULL    | NULL           | 1754-07-12 |   88 |
|       |          4 | Prozd    | wiking  | NULL    | handlowe       | 1785-12-17 |   67 |
|       |          5 | Gast     | wiking  | NULL    | handlowe       | 1786-10-02 |   68 |
|       |          6 | Hal      | wiking  | NULL    | handlowe       | 1790-04-25 |   71 |
+-------+------------+----------+---------+---------+----------------+------------+------+
6 rows in set (0.00 sec)

mysql> UPDATE postacie SET pesel='11750283745' WHERE id_postaci=1;
Query OK, 1 row affected (0.01 sec)
Rows matched: 1  Changed: 1  Warnings: 0

mysql> UPDATE postacie SET pesel='22960023119' WHERE id_postaci=1;
Query OK, 1 row affected (0.01 sec)
Rows matched: 1  Changed: 1  Warnings: 0

mysql> UPDATE postacie SET pesel='11750283745' WHERE id_postaci=1;
Query OK, 1 row affected (0.01 sec)
Rows matched: 1  Changed: 1  Warnings: 0

mysql> UPDATE postacie SET pesel='22960023119' WHERE id_postaci=2;
Query OK, 1 row affected (0.00 sec)
Rows matched: 1  Changed: 1  Warnings: 0

mysql> UPDATE postacie SET pesel='33884599216' WHERE id_postaci=3;
Query OK, 1 row affected (0.00 sec)
Rows matched: 1  Changed: 1  Warnings: 0

mysql> UPDATE postacie SET pesel='44992046510' WHERE id_postaci=4;
Query OK, 1 row affected (0.01 sec)
Rows matched: 1  Changed: 1  Warnings: 0

mysql> UPDATE postacie SET pesel='55939900234' WHERE id_postaci=5;
Query OK, 1 row affected (0.01 sec)
Rows matched: 1  Changed: 1  Warnings: 0

mysql> UPDATE postacie SET pesel='66882267102' WHERE id_postaci=6;
Query OK, 1 row affected (0.00 sec)
Rows matched: 1  Changed: 1  Warnings: 0

mysql> select * from postacie;
+-------------+------------+----------+---------+---------+----------------+------------+------+
| pesel       | id_postaci | nazwa    | rodzaj  | funkcja | statek_postaci | data_ur    | wiek |
+-------------+------------+----------+---------+---------+----------------+------------+------+
| 11750283745 |          1 | Bjorn    | wiking  | kapitan | handlowe       | 1788-05-03 |   69 |
| 22960023119 |          2 | Drozd    | ptak    | NULL    | handlowe       | 1808-11-02 |   10 |
| 33884599216 |          3 | Tesciowa | kobieta | NULL    | NULL           | 1754-07-12 |   88 |
| 44992046510 |          4 | Prozd    | wiking  | NULL    | handlowe       | 1785-12-17 |   67 |
| 55939900234 |          5 | Gast     | wiking  | NULL    | handlowe       | 1786-10-02 |   68 |
| 66882267102 |          6 | Hal      | wiking  | NULL    | handlowe       | 1790-04-25 |   71 |
+-------------+------------+----------+---------+---------+----------------+------------+------+
6 rows in set (0.00 sec)

mysql> alter table postacie ADD PRIMARY KEY (pesel);
Query OK, 0 rows affected (0.05 sec)
Records: 0  Duplicates: 0  Warnings: 0

mysql> select * from postacie;
+-------------+------------+----------+---------+---------+----------------+------------+------+
| pesel       | id_postaci | nazwa    | rodzaj  | funkcja | statek_postaci | data_ur    | wiek |
+-------------+------------+----------+---------+---------+----------------+------------+------+
| 11750283745 |          1 | Bjorn    | wiking  | kapitan | handlowe       | 1788-05-03 |   69 |
| 22960023119 |          2 | Drozd    | ptak    | NULL    | handlowe       | 1808-11-02 |   10 |
| 33884599216 |          3 | Tesciowa | kobieta | NULL    | NULL           | 1754-07-12 |   88 |
| 44992046510 |          4 | Prozd    | wiking  | NULL    | handlowe       | 1785-12-17 |   67 |
| 55939900234 |          5 | Gast     | wiking  | NULL    | handlowe       | 1786-10-02 |   68 |
| 66882267102 |          6 | Hal      | wiking  | NULL    | handlowe       | 1790-04-25 |   71 |
+-------------+------------+----------+---------+---------+----------------+------------+------+
6 rows in set (0.00 sec)

mysql> desc postacie;
+----------------+---------------------------------+------+-----+---------+-------+
| Field          | Type                            | Null | Key | Default | Extra |
+----------------+---------------------------------+------+-----+---------+-------+
| pesel          | char(11)                        | NO   | PRI | NULL    |       |
| id_postaci     | int                             | YES  |     | NULL    |       |
| nazwa          | varchar(40)                     | YES  |     | NULL    |       |
| rodzaj         | enum('wiking','ptak','kobieta') | YES  |     | NULL    |       |
| funkcja        | varchar(40)                     | YES  |     | NULL    |       |
| statek_postaci | varchar(40)                     | YES  | MUL | NULL    |       |
| data_ur        | date                            | YES  |     | NULL    |       |
| wiek           | int unsigned                    | YES  |     | NULL    |       |
+----------------+---------------------------------+------+-----+---------+-------+
8 rows in set (0.00 sec)

mysql> alter table postacie modify column rodzaj ENUM('wiking','ptak','kobieta','syrena');
Query OK, 0 rows affected (0.01 sec)
Records: 0  Duplicates: 0  Warnings: 0

mysql> insert into postacie (pesel,id_postaci,nazwa,rodzaj,data_ur,wiek) VALUES ('99002358235','7','Gertruda Nieszczera','syrena','1792-04-17','20');
Query OK, 1 row affected (0.00 sec)

mysql> select * from postacie;
+-------------+------------+---------------------+---------+---------+----------------+------------+------+
| pesel       | id_postaci | nazwa               | rodzaj  | funkcja | statek_postaci | data_ur    | wiek |
+-------------+------------+---------------------+---------+---------+----------------+------------+------+
| 11750283745 |          1 | Bjorn               | wiking  | kapitan | handlowe       | 1788-05-03 |   69 |
| 22960023119 |          2 | Drozd               | ptak    | NULL    | handlowe       | 1808-11-02 |   10 |
| 33884599216 |          3 | Tesciowa            | kobieta | NULL    | NULL           | 1754-07-12 |   88 |
| 44992046510 |          4 | Prozd               | wiking  | NULL    | handlowe       | 1785-12-17 |   67 |
| 55939900234 |          5 | Gast                | wiking  | NULL    | handlowe       | 1786-10-02 |   68 |
| 66882267102 |          6 | Hal                 | wiking  | NULL    | handlowe       | 1790-04-25 |   71 |
| 99002358235 |          7 | Gertruda Nieszczera | syrena  | NULL    | NULL           | 1792-04-17 |   20 |
+-------------+------------+---------------------+---------+---------+----------------+------------+------+
7 rows in set (0.00 sec)

mysql> select * from statek;
+--------------+---------------+----------------+---------------+
| nazwa_statku | rodzaj_statku | data_wodowania | max_ladownosc |
+--------------+---------------+----------------+---------------+
| 1            | handlowe      | 1769-04-12     |          1600 |
| 2            | sportowe      | 1789-03-13     |          1000 |
+--------------+---------------+----------------+---------------+
2 rows in set (0.00 sec)

mysql> update postacie SET statek_postaci='2' WHERE nazwa LIKE '%a%';
Query OK, 4 rows affected (0.00 sec)
Rows matched: 4  Changed: 4  Warnings: 0

mysql> select * from postacie;
+-------------+------------+---------------------+---------+---------+----------------+------------+------+
| pesel       | id_postaci | nazwa               | rodzaj  | funkcja | statek_postaci | data_ur    | wiek |
+-------------+------------+---------------------+---------+---------+----------------+------------+------+
| 11750283745 |          1 | Bjorn               | wiking  | kapitan | handlowe       | 1788-05-03 |   69 |
| 22960023119 |          2 | Drozd               | ptak    | NULL    | handlowe       | 1808-11-02 |   10 |
| 33884599216 |          3 | Tesciowa            | kobieta | NULL    | 2              | 1754-07-12 |   88 |
| 44992046510 |          4 | Prozd               | wiking  | NULL    | handlowe       | 1785-12-17 |   67 |
| 55939900234 |          5 | Gast                | wiking  | NULL    | 2              | 1786-10-02 |   68 |
| 66882267102 |          6 | Hal                 | wiking  | NULL    | 2              | 1790-04-25 |   71 |
| 99002358235 |          7 | Gertruda Nieszczera | syrena  | NULL    | 2              | 1792-04-17 |   20 |
+-------------+------------+---------------------+---------+---------+----------------+------------+------+
7 rows in set (0.00 sec)

mysql> UPDATE statek SET max_ladownosc = (max_ladownosc*0.7) WHERE year(data_wodowania) BETWEEN 1900 AND 2000;
Query OK, 0 rows affected (0.00 sec)
Rows matched: 0  Changed: 0  Warnings: 0

mysql> alter table postacie add check (wiek<1000);
Query OK, 7 rows affected (0.06 sec)
Records: 7  Duplicates: 0  Warnings: 0

mysql> alter table postacie modify column rodzaj ENUM('wiking','ptak','kobieta','syrena','waz');
Query OK, 0 rows affected (0.01 sec)
Records: 0  Duplicates: 0  Warnings: 0

mysql> insert into postacie (pesel,id_postaci,nazwa,rodzaj,data_ur,wiek) VALUES ('10952251045','8','Loko','waz','1811-05-19','3');
Query OK, 1 row affected (0.01 sec)

mysql> CREATE TABLE marynarz LIKE postacie;
Query OK, 0 rows affected (0.02 sec)

mysql> INSERT INTO marynarz SELECT * FROM postacie WHERE statek_postaci IS NOT NULL;
Query OK, 7 rows affected (0.00 sec)
Records: 7  Duplicates: 0  Warnings: 0

mysql> select * from marynarz;
+-------------+------------+---------------------+---------+---------+----------------+------------+------+
| pesel       | id_postaci | nazwa               | rodzaj  | funkcja | statek_postaci | data_ur    | wiek |
+-------------+------------+---------------------+---------+---------+----------------+------------+------+
| 11750283745 |          1 | Bjorn               | wiking  | kapitan | handlowe       | 1788-05-03 |   69 |
| 22960023119 |          2 | Drozd               | ptak    | NULL    | handlowe       | 1808-11-02 |   10 |
| 33884599216 |          3 | Tesciowa            | kobieta | NULL    | 2              | 1754-07-12 |   88 |
| 44992046510 |          4 | Prozd               | wiking  | NULL    | handlowe       | 1785-12-17 |   67 |
| 55939900234 |          5 | Gast                | wiking  | NULL    | 2              | 1786-10-02 |   68 |
| 66882267102 |          6 | Hal                 | wiking  | NULL    | 2              | 1790-04-25 |   71 |
| 99002358235 |          7 | Gertruda Nieszczera | syrena  | NULL    | 2              | 1792-04-17 |   20 |
+-------------+------------+---------------------+---------+---------+----------------+------------+------+
7 rows in set (0.00 sec)

mysql> select * from statek;
+--------------+---------------+----------------+---------------+
| nazwa_statku | rodzaj_statku | data_wodowania | max_ladownosc |
+--------------+---------------+----------------+---------------+
| 1            | handlowe      | 1769-04-12     |          1600 |
| 2            | sportowe      | 1789-03-13     |          1000 |
+--------------+---------------+----------------+---------------+
2 rows in set (0.00 sec)

mysql> desc marynarz;
+----------------+------------------------------------------------+------+-----+---------+-------+
| Field          | Type                                           | Null | Key | Default | Extra |
+----------------+------------------------------------------------+------+-----+---------+-------+
| pesel          | char(11)                                       | NO   | PRI | NULL    |       |
| id_postaci     | int                                            | YES  |     | NULL    |       |
| nazwa          | varchar(40)                                    | YES  |     | NULL    |       |
| rodzaj         | enum('wiking','ptak','kobieta','syrena','waz') | YES  |     | NULL    |       |
| funkcja        | varchar(40)                                    | YES  |     | NULL    |       |
| statek_postaci | varchar(40)                                    | YES  | MUL | NULL    |       |
| data_ur        | date                                           | YES  |     | NULL    |       |
| wiek           | int unsigned                                   | YES  |     | NULL    |       |
+----------------+------------------------------------------------+------+-----+---------+-------+
8 rows in set (0.00 sec)

mysql> select * from postacie;
+-------------+------------+---------------------+---------+---------+----------------+------------+------+
| pesel       | id_postaci | nazwa               | rodzaj  | funkcja | statek_postaci | data_ur    | wiek |
+-------------+------------+---------------------+---------+---------+----------------+------------+------+
| 10952251045 |          8 | Loko                | waz     | NULL    | NULL           | 1811-05-19 |    3 |
| 11750283745 |          1 | Bjorn               | wiking  | kapitan | handlowe       | 1788-05-03 |   69 |
| 22960023119 |          2 | Drozd               | ptak    | NULL    | handlowe       | 1808-11-02 |   10 |
| 33884599216 |          3 | Tesciowa            | kobieta | NULL    | 2              | 1754-07-12 |   88 |
| 44992046510 |          4 | Prozd               | wiking  | NULL    | handlowe       | 1785-12-17 |   67 |
| 55939900234 |          5 | Gast                | wiking  | NULL    | 2              | 1786-10-02 |   68 |
| 66882267102 |          6 | Hal                 | wiking  | NULL    | 2              | 1790-04-25 |   71 |
| 99002358235 |          7 | Gertruda Nieszczera | syrena  | NULL    | 2              | 1792-04-17 |   20 |
+-------------+------------+---------------------+---------+---------+----------------+------------+------+
8 rows in set (0.00 sec)

mysql> update postacie SET statek_postaci=NULL;
Query OK, 7 rows affected (0.01 sec)
Rows matched: 8  Changed: 7  Warnings: 0

mysql> select * from postacie;
+-------------+------------+---------------------+---------+---------+----------------+------------+------+
| pesel       | id_postaci | nazwa               | rodzaj  | funkcja | statek_postaci | data_ur    | wiek |
+-------------+------------+---------------------+---------+---------+----------------+------------+------+
| 10952251045 |          8 | Loko                | waz     | NULL    | NULL           | 1811-05-19 |    3 |
| 11750283745 |          1 | Bjorn               | wiking  | kapitan | NULL           | 1788-05-03 |   69 |
| 22960023119 |          2 | Drozd               | ptak    | NULL    | NULL           | 1808-11-02 |   10 |
| 33884599216 |          3 | Tesciowa            | kobieta | NULL    | NULL           | 1754-07-12 |   88 |
| 44992046510 |          4 | Prozd               | wiking  | NULL    | NULL           | 1785-12-17 |   67 |
| 55939900234 |          5 | Gast                | wiking  | NULL    | NULL           | 1786-10-02 |   68 |
| 66882267102 |          6 | Hal                 | wiking  | NULL    | NULL           | 1790-04-25 |   71 |
| 99002358235 |          7 | Gertruda Nieszczera | syrena  | NULL    | NULL           | 1792-04-17 |   20 |
+-------------+------------+---------------------+---------+---------+----------------+------------+------+
8 rows in set (0.00 sec)

mysql> DELETE FROM postacie WHERE id_postaci = 5;
Query OK, 1 row affected (0.00 sec)

mysql> select * from postacie;
+-------------+------------+---------------------+---------+---------+----------------+------------+------+
| pesel       | id_postaci | nazwa               | rodzaj  | funkcja | statek_postaci | data_ur    | wiek |
+-------------+------------+---------------------+---------+---------+----------------+------------+------+
| 10952251045 |          8 | Loko                | waz     | NULL    | NULL           | 1811-05-19 |    3 |
| 11750283745 |          1 | Bjorn               | wiking  | kapitan | NULL           | 1788-05-03 |   69 |
| 22960023119 |          2 | Drozd               | ptak    | NULL    | NULL           | 1808-11-02 |   10 |
| 33884599216 |          3 | Tesciowa            | kobieta | NULL    | NULL           | 1754-07-12 |   88 |
| 44992046510 |          4 | Prozd               | wiking  | NULL    | NULL           | 1785-12-17 |   67 |
| 66882267102 |          6 | Hal                 | wiking  | NULL    | NULL           | 1790-04-25 |   71 |
| 99002358235 |          7 | Gertruda Nieszczera | syrena  | NULL    | NULL           | 1792-04-17 |   20 |
+-------------+------------+---------------------+---------+---------+----------------+------------+------+
7 rows in set (0.00 sec)

mysql> select * from statek;
+--------------+---------------+----------------+---------------+
| nazwa_statku | rodzaj_statku | data_wodowania | max_ladownosc |
+--------------+---------------+----------------+---------------+
| 1            | handlowe      | 1769-04-12     |          1600 |
| 2            | sportowe      | 1789-03-13     |          1000 |
+--------------+---------------+----------------+---------------+
2 rows in set (0.00 sec)

mysql> DELETE FROM statek WHERE nazwa_statku = 1;
Query OK, 1 row affected (0.00 sec)

mysql> DELETE FROM statek WHERE nazwa_statku = 2;
Query OK, 1 row affected (0.01 sec)

mysql> select * from statek;
Empty set (0.00 sec)

mysql> ALTER TABLE postacie DROP CONSTRAINT postacie_ibfk_1;
Query OK, 0 rows affected (0.02 sec)
Records: 0  Duplicates: 0  Warnings: 0

mysql> drop table statek;
Query OK, 0 rows affected (0.01 sec)

mysql> CREATE TABLE zwierz(id INT AUTO_INCREMENT PRIMARY KEY,nazwa VARCHAR(40),wiek INT UNSIGNED);
Query OK, 0 rows affected (0.02 sec)

mysql> desc zwierz;
+-------+--------------+------+-----+---------+----------------+
| Field | Type         | Null | Key | Default | Extra          |
+-------+--------------+------+-----+---------+----------------+
| id    | int          | NO   | PRI | NULL    | auto_increment |
| nazwa | varchar(40)  | YES  |     | NULL    |                |
| wiek  | int unsigned | YES  |     | NULL    |                |
+-------+--------------+------+-----+---------+----------------+
3 rows in set (0.00 sec)

mysql> INSERT INTO zwierz (id,nazwa,wiek) VALUES ('8','Loko','3');
Query OK, 1 row affected (0.00 sec)

mysql> INSERT INTO zwierz (id,nazwa,wiek) VALUES ('2','Drozd','10');
Query OK, 1 row affected (0.01 sec)

mysql> select * from zwierz;
+----+-------+------+
| id | nazwa | wiek |
+----+-------+------+
|  2 | Drozd |   10 |
|  8 | Loko  |    3 |
+----+-------+------+
2 rows in set (0.01 sec)
